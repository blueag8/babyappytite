{"filter":false,"title":"app.py","tooltip":"/app.py","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":80,"column":38},"end":{"row":80,"column":44},"action":"remove","lines":["'GET',"],"id":8468}],[{"start":{"row":86,"column":42},"end":{"row":86,"column":43},"action":"remove","lines":[")"],"id":8469}],[{"start":{"row":86,"column":42},"end":{"row":86,"column":43},"action":"insert","lines":["]"],"id":8470}],[{"start":{"row":86,"column":28},"end":{"row":86,"column":29},"action":"remove","lines":["("],"id":8471}],[{"start":{"row":86,"column":28},"end":{"row":86,"column":29},"action":"insert","lines":["["],"id":8472}],[{"start":{"row":0,"column":0},"end":{"row":177,"column":23},"action":"remove","lines":["import pymongo","import os","","","from bson.objectid import ObjectId","from flask import Flask, render_template, redirect, request, url_for, flash","from flask_pymongo import PyMongo","","#connect to database","app = Flask(__name__)","","app.config['MONGO_DBNAME'] =\"Baby_Recipes\"","app.config[\"MONGO_URI\"] =\"mongodb+srv://blueag8:mongo8@cluster0-iodau.mongodb.net/Baby_Recipes?retryWrites=true&w=majority\"","app.config['SECRET_KEY'] = 'yum'    ","","mongo = PyMongo(app)","","","#home page","","","","@app.route('/')","def home():","    return render_template(\"index.html\", recipes=mongo.db.recipes.find())","    ","#get ","#single recipe","","@app.route('/recipe/<recipe_id>')","def recipe(recipe_id):","    recipes=mongo.db.recipes.find({\"_id\": ObjectId(recipe_id)})","    return render_template(\"recipe.html\", recipes=recipes )","","#TEST1","    ","#recipes categorized per page route","","#@app.route('/recipes')","#def recipes():","   # recipes=mongo.db.recipes.find()","    #TEST","    #for recipe in recipes:","      #  print(recipe)","        ","   # return render_template(\"recipes.html\")","    ","@app.route('/sixmonth_recipes')","def sixmonth_recipes():","   return render_template(\"recipes.html\", recipes=mongo.db.recipes.find({\"category_age\":\"6 months +\"}))","","@app.route('/sevenmonth_recipes')","def sevenmonth_recipes():","    return render_template(\"recipes.html\", recipes=mongo.db.recipes.find({\"category_age\":\"7 months +\"}))","","@app.route('/tenmonth_recipes')","def tenmonth_recipes():","    return render_template(\"recipes.html\", recipes=mongo.db.recipes.find({\"category_age\":\"10 months +\"}))","    ","@app.route('/twelvemonth_recipes')","def twelvemonth_recipes():","    return render_template(\"recipes.html\",recipes=mongo.db.recipes.find({\"category_age\":\"12 months +\"}))","","#add recipe ","","@app.route('/addrecipe')","def addrecipe():","    return render_template(\"addrecipe.html\", recipes=mongo.db.recipes.find())"," #took idea for flash from https://github.com/Deirdre18/dumpdinners-recipe-app/blob/master/app.py"," ","#@app.route('/insert_recipe', methods=['POST'])","#def insert_recipe():","   # recipes=mongo.db.recipes","   # recipes.insert(request.form.to.dict(flat=False))","   # flash (\"Thank you, your recipe has been added!\")","","    #return render_template(\"addrecipe.html\", recipe=recipe)","    #Test1 Failed ","    ","    #Testing2 ","@app.route('/insert_recipe', methods=['POST'])","def insert_recipe():","    recipes=mongo.db.recipes","   # filepath = '../static/img/' + filename","    ","","    recipe_name=request.form[\"recipe_name\"]","    category_age=request.form[\"category_age\"]","    cooking_time=int(request.form[\"cooking_time\"])","    portion_sizes=int(request.form[\"portion_size\"]) ","    allergens=request.form.getlist(\"allergen\")","    ingredients=request.form.getlist(\"ingredient\")","    recipe_description=request.form[\"recipe_description\"]","    steps=request.form.getlist(\"step\")","    #filename = image.save(request.files['image'])","      ","    form={","    ","        \"recipe_name\":recipe_name,","        \"category_age\":category_age,","        \"cooking_time\":cooking_time,","        \"portion_size\":portion_sizes,","        \"allergen\": allergens,","        \"ingredient\": ingredients,","        \"recipe_description\":recipe_description,","        \"step\": steps,","       # \"image\": filepath,","          }","          ","     ","      ","    recipes.insert_one(form)","    flash (\"Thank you, your recipe has been added!\")","    return redirect(url_for('home',recipe=recipe, category_age=category_age))","#edit recipe","#@app.route('/editrecipe/<recipe_id>', methods=['GET','POST'])","#def editrecipe(recipe_id):","   ","    #return render_template(\"testform.html\",recipes=mongo.db.recipes.find(),","          # categories=mongo.db.categories.find())","    #return render_template(\"editrecipe.html\",recipes=mongo.db.recipes.find({\"_id\": ObjectId(recipe_id)}),","          # categories=mongo.db.categories.find())","","#TESTING ","@app.route('/editrecipe/<recipe_id>')","def editrecipe(recipe_id):","    the_recipe = mongo.db.recipes.find_one({'_id': ObjectId(recipe_id)})","    all_categories=mongo.db.category_age.find()","    allergen=mongo.db.allergens.find()","    return render_template('editrecipe.html', recipe=the_recipe, allergen=allergen, category_age=all_categories)","    ","@app.route('/update_recipe/<recipe_id>', methods=['POST'])","def update_recipe(recipe_id):","    recipes=mongo.db.recipes","    recipes.update( {'_id': ObjectId(recipe_id)},","","","   # filepath = '../static/img/' + filename","","","    {","            'recipe_name':request.form.get(\"recipe_name\"),","            'category_age':request.form.get(\"category_age\"),","            'cooking_time':int(request.form[\"cooking_time\"]),","            'portion_sizes':int(request.form[\"portion_size\"]),","            'allergens':request.form.getlist(\"allergen\"),","            'ingredients':request.form.getlist(\"ingredient\"),","            'recipe_description':request.form.get(\"recipe_description\"),","            'steps':request.form.getlist(\"step\"),","       ",""," ","   # filename = image.save(request.files['image'])","","      })","          ","    #flash (\"Thank you, your recipe has been added!\")","    return redirect(url_for('home'))","    ","   # filepath = '../static/img/' + filename","","    #filename = image.save(request.files['image']","","","    ","@app.route('/delete_recipe/<recipe_id>')    ","def delete_recipe(recipe_id):","    mongo.db.recipes.remove({'_id': ObjectId(recipe_id)})","    return redirect(url_for('home'))",""," ","","    ","    ","if __name__ == '__main__':","    app.run(host=os.environ.get('IP'),","            port=int(os.environ.get('PORT')),","            debug=True)"],"id":8473},{"start":{"row":0,"column":0},"end":{"row":168,"column":23},"action":"insert","lines":["import pymongo","import os","","","from bson.objectid import ObjectId","from flask import Flask, render_template, redirect, request, url_for, flash","from flask_pymongo import PyMongo","","#connect to database","app = Flask(__name__)","","app.config['MONGO_DBNAME'] =\"Baby_Recipes\"","app.config[\"MONGO_URI\"] =\"mongodb+srv://blueag8:mongo8@cluster0-iodau.mongodb.net/Baby_Recipes?retryWrites=true&w=majority\"","app.config['SECRET_KEY'] = 'yum'    ","","mongo = PyMongo(app)","","","#home page","","","","@app.route('/')","def home():","    return render_template(\"index.html\", recipes=mongo.db.recipes.find())","    ","#get ","#single recipe","","@app.route('/recipe/<recipe_id>')","def recipe(recipe_id):","    recipes=mongo.db.recipes.find({\"_id\": ObjectId(recipe_id)})","    return render_template(\"recipe.html\", recipes=recipes )","","#TEST1","    ","#recipes categorized per page route","","#@app.route('/recipes')","#def recipes():","   # recipes=mongo.db.recipes.find()","    #TEST","    #for recipe in recipes:","      #  print(recipe)","        ","   # return render_template(\"recipes.html\")","    ","@app.route('/sixmonth_recipes')","def sixmonth_recipes():","   return render_template(\"recipes.html\", recipes=mongo.db.recipes.find({\"category_age\":\"6 months +\"}))","","@app.route('/sevenmonth_recipes')","def sevenmonth_recipes():","    return render_template(\"recipes.html\", recipes=mongo.db.recipes.find({\"category_age\":\"7 months +\"}))","","@app.route('/tenmonth_recipes')","def tenmonth_recipes():","    return render_template(\"recipes.html\", recipes=mongo.db.recipes.find({\"category_age\":\"10 months +\"}))","    ","@app.route('/twelvemonth_recipes')","def twelvemonth_recipes():","    return render_template(\"recipes.html\",recipes=mongo.db.recipes.find({\"category_age\":\"12 months +\"}))","","#add recipe ","","@app.route('/addrecipe')","def addrecipe():","    #return render_template(\"testform.html\",recipes=mongo.db.recipes.find(),","          # categories=mongo.db.categories.find())","    return render_template(\"addrecipe.html\", recipes=mongo.db.recipes.find(),","           categories=mongo.db.categories.find())",""," #took idea for flash from https://github.com/Deirdre18/dumpdinners-recipe-app/blob/master/app.py"," ","#@app.route('/insert_recipe', methods=['POST'])","#def insert_recipe():","   # recipes=mongo.db.recipes","   # recipes.insert(request.form.to.dict(flat=False))","   # flash (\"Thank you, your recipe has been added!\")","","    #return render_template(\"addrecipe.html\", recipe=recipe)","    #Test1 Failed ","    ","    #Testing2 ","@app.route('/insert_recipe', methods=['GET','POST'])","def insert_recipe():","    recipes=mongo.db.recipes","  ","   # filepath = '../static/img/' + filename","    ","","    recipe_name=request.form[\"recipe_name\"]","    category_age=request.form[\"category_age\"]","    cooking_time=int(request.form[\"cooking_time\"])","    portion_sizes=int(request.form[\"portion_size\"]) ","    allergens=request.form.getlist(\"allergen\")","    ingredients=request.form.getlist(\"ingredient\")","    recipe_description=request.form[\"recipe_description\"]","    steps=request.form.getlist(\"step\")","    #filename = image.save(request.files['image'])","      ","    form={","    ","        \"recipe_name\":recipe_name,","        \"category_age\":category_age,","        \"cooking_time\":cooking_time,","        \"portion_size\":portion_sizes,","        \"allergen\": allergens,","        \"ingredient\": ingredients,","        \"recipe_description\":recipe_description,","        \"step\": steps,","       # \"image\": filepath,","          }","          ","     ","      ","    recipes.insert_one(form)","    flash (\"Thank you, your recipe has been added!\")","    return redirect(url_for('home'))","","#edit recipe","#@app.route('/editrecipe/<recipe_id>', methods=['GET','POST'])","#def editrecipe(recipe_id):","   ","    #return render_template(\"testform.html\",recipes=mongo.db.recipes.find(),","          # categories=mongo.db.categories.find())","    #return render_template(\"editrecipe.html\",recipes=mongo.db.recipes.find({\"_id\": ObjectId(recipe_id)}),","          # categories=mongo.db.categories.find())","","#TESTING ","@app.route('/editrecipe/<recipe_id>')","def editrecipe(recipe_id):","    the_recipe = mongo.db.recipes.find_one({'_id': ObjectId(recipe_id)})","    all_categories=mongo.db.category_age.find_one()","    return render_template('testformupdate.html', recipe=the_recipe, category_age=all_categories)","    ","@app.route('/update_recipe', methods=['POST'])","def update_recipe(recipe_id):","    recipes=mongo.db.recipes","    recipes.update( {'_id': ObjectId(recipe_id)},","   # filepath = '../static/img/' + filename","    {","    {","            'recipe_name':request.form.get[\"recipe_name\"],","            'category_age':request.form.get[\"category_age\"],","            'cooking_time':int(request.form[\"cooking_time\"]),","            'portion_sizes':int(request.form[\"portion_size\"]),","            'allergens':request.form.getlist('check'),","            'ingredients':request.form.getlist(\"ingredient\"),","            'recipe_description':request.form[\"recipe_description\"],","            'steps':request.form.getlist(\"step\"),","            }","   # filename = image.save(request.files['image'])","      })","          ","    #flash (\"Thank you, your recipe has been added!\")","    return redirect(url_for('home'))","    ","   # filepath = '../static/img/' + filename","","    #filename = image.save(request.files['image']","    ","    ","    ","    ","if __name__ == '__main__':","    app.run(host=os.environ.get('IP'),","            port=int(os.environ.get('PORT')),","            debug=True)"]}],[{"start":{"row":134,"column":28},"end":{"row":134,"column":42},"action":"remove","lines":["testformupdate"],"id":8474},{"start":{"row":134,"column":28},"end":{"row":134,"column":29},"action":"insert","lines":["e"]},{"start":{"row":134,"column":29},"end":{"row":134,"column":30},"action":"insert","lines":["d"]},{"start":{"row":134,"column":30},"end":{"row":134,"column":31},"action":"insert","lines":["i"]},{"start":{"row":134,"column":31},"end":{"row":134,"column":32},"action":"insert","lines":["t"]}],[{"start":{"row":134,"column":28},"end":{"row":134,"column":32},"action":"remove","lines":["edit"],"id":8475},{"start":{"row":134,"column":28},"end":{"row":134,"column":38},"action":"insert","lines":["editrecipe"]}],[{"start":{"row":141,"column":3},"end":{"row":141,"column":5},"action":"remove","lines":[" {"],"id":8476}],[{"start":{"row":151,"column":12},"end":{"row":151,"column":13},"action":"remove","lines":["}"],"id":8477}],[{"start":{"row":143,"column":56},"end":{"row":143,"column":57},"action":"remove","lines":["]"],"id":8478}],[{"start":{"row":143,"column":56},"end":{"row":143,"column":57},"action":"insert","lines":[")"],"id":8479}],[{"start":{"row":143,"column":42},"end":{"row":143,"column":43},"action":"remove","lines":["["],"id":8480}],[{"start":{"row":143,"column":42},"end":{"row":143,"column":43},"action":"insert","lines":["("],"id":8481}],[{"start":{"row":144,"column":43},"end":{"row":144,"column":44},"action":"remove","lines":["["],"id":8482}],[{"start":{"row":144,"column":43},"end":{"row":144,"column":44},"action":"insert","lines":["("],"id":8483}],[{"start":{"row":144,"column":58},"end":{"row":144,"column":59},"action":"remove","lines":["]"],"id":8484}],[{"start":{"row":144,"column":58},"end":{"row":144,"column":59},"action":"insert","lines":[")"],"id":8485}],[{"start":{"row":149,"column":66},"end":{"row":149,"column":67},"action":"remove","lines":["]"],"id":8486}],[{"start":{"row":149,"column":66},"end":{"row":149,"column":67},"action":"insert","lines":["0"],"id":8487}],[{"start":{"row":149,"column":66},"end":{"row":149,"column":67},"action":"remove","lines":["0"],"id":8488}],[{"start":{"row":149,"column":66},"end":{"row":149,"column":67},"action":"insert","lines":[")"],"id":8489}],[{"start":{"row":149,"column":45},"end":{"row":149,"column":46},"action":"remove","lines":["["],"id":8490}],[{"start":{"row":149,"column":45},"end":{"row":149,"column":46},"action":"insert","lines":["("],"id":8491}],[{"start":{"row":136,"column":26},"end":{"row":136,"column":27},"action":"insert","lines":["/"],"id":8492},{"start":{"row":136,"column":27},"end":{"row":136,"column":28},"action":"insert","lines":["<"]},{"start":{"row":136,"column":28},"end":{"row":136,"column":29},"action":"insert","lines":["r"]},{"start":{"row":136,"column":29},"end":{"row":136,"column":30},"action":"insert","lines":["e"]}],[{"start":{"row":136,"column":30},"end":{"row":136,"column":31},"action":"insert","lines":["i"],"id":8493},{"start":{"row":136,"column":31},"end":{"row":136,"column":32},"action":"insert","lines":["p"]},{"start":{"row":136,"column":32},"end":{"row":136,"column":33},"action":"insert","lines":["c"]},{"start":{"row":136,"column":33},"end":{"row":136,"column":34},"action":"insert","lines":["e"]}],[{"start":{"row":136,"column":33},"end":{"row":136,"column":34},"action":"remove","lines":["e"],"id":8494},{"start":{"row":136,"column":32},"end":{"row":136,"column":33},"action":"remove","lines":["c"]},{"start":{"row":136,"column":31},"end":{"row":136,"column":32},"action":"remove","lines":["p"]},{"start":{"row":136,"column":30},"end":{"row":136,"column":31},"action":"remove","lines":["i"]}],[{"start":{"row":136,"column":30},"end":{"row":136,"column":31},"action":"insert","lines":["c"],"id":8495},{"start":{"row":136,"column":31},"end":{"row":136,"column":32},"action":"insert","lines":["i"]},{"start":{"row":136,"column":32},"end":{"row":136,"column":33},"action":"insert","lines":["p"]},{"start":{"row":136,"column":33},"end":{"row":136,"column":34},"action":"insert","lines":["e"]},{"start":{"row":136,"column":34},"end":{"row":136,"column":35},"action":"insert","lines":["_"]}],[{"start":{"row":136,"column":35},"end":{"row":136,"column":36},"action":"insert","lines":["i"],"id":8496},{"start":{"row":136,"column":36},"end":{"row":136,"column":37},"action":"insert","lines":["d"]},{"start":{"row":136,"column":37},"end":{"row":136,"column":38},"action":"insert","lines":[">"]}],[{"start":{"row":161,"column":4},"end":{"row":164,"column":41},"action":"insert","lines":["@app.route('/delete_task/<task_id>')","def delete_task(task_id):","    mongo.db.tasks.remove({'_id': ObjectId(task_id)})","    return redirect(url_for('get_tasks'))"],"id":8497}],[{"start":{"row":162,"column":0},"end":{"row":162,"column":4},"action":"insert","lines":["    "],"id":8498}],[{"start":{"row":161,"column":24},"end":{"row":161,"column":28},"action":"remove","lines":["task"],"id":8499},{"start":{"row":161,"column":24},"end":{"row":161,"column":25},"action":"insert","lines":["r"]},{"start":{"row":161,"column":25},"end":{"row":161,"column":26},"action":"insert","lines":["e"]},{"start":{"row":161,"column":26},"end":{"row":161,"column":27},"action":"insert","lines":["c"]},{"start":{"row":161,"column":27},"end":{"row":161,"column":28},"action":"insert","lines":["i"]},{"start":{"row":161,"column":28},"end":{"row":161,"column":29},"action":"insert","lines":["p"]},{"start":{"row":161,"column":29},"end":{"row":161,"column":30},"action":"insert","lines":["e"]}],[{"start":{"row":161,"column":32},"end":{"row":161,"column":36},"action":"remove","lines":["task"],"id":8500},{"start":{"row":161,"column":32},"end":{"row":161,"column":33},"action":"insert","lines":["r"]},{"start":{"row":161,"column":33},"end":{"row":161,"column":34},"action":"insert","lines":["e"]},{"start":{"row":161,"column":34},"end":{"row":161,"column":35},"action":"insert","lines":["c"]},{"start":{"row":161,"column":35},"end":{"row":161,"column":36},"action":"insert","lines":["i"]},{"start":{"row":161,"column":36},"end":{"row":161,"column":37},"action":"insert","lines":["p"]},{"start":{"row":161,"column":37},"end":{"row":161,"column":38},"action":"insert","lines":["e"]}],[{"start":{"row":163,"column":43},"end":{"row":163,"column":47},"action":"remove","lines":["task"],"id":8501},{"start":{"row":163,"column":43},"end":{"row":163,"column":44},"action":"insert","lines":["r"]},{"start":{"row":163,"column":44},"end":{"row":163,"column":45},"action":"insert","lines":["e"]},{"start":{"row":163,"column":45},"end":{"row":163,"column":46},"action":"insert","lines":["c"]}],[{"start":{"row":163,"column":43},"end":{"row":163,"column":46},"action":"remove","lines":["rec"],"id":8502},{"start":{"row":163,"column":43},"end":{"row":163,"column":51},"action":"insert","lines":["recipe()"]}],[{"start":{"row":163,"column":49},"end":{"row":163,"column":51},"action":"remove","lines":["()"],"id":8503}],[{"start":{"row":163,"column":13},"end":{"row":163,"column":18},"action":"remove","lines":["tasks"],"id":8504},{"start":{"row":163,"column":13},"end":{"row":163,"column":14},"action":"insert","lines":["r"]},{"start":{"row":163,"column":14},"end":{"row":163,"column":15},"action":"insert","lines":["e"]},{"start":{"row":163,"column":15},"end":{"row":163,"column":16},"action":"insert","lines":["c"]},{"start":{"row":163,"column":16},"end":{"row":163,"column":17},"action":"insert","lines":["i"]},{"start":{"row":163,"column":17},"end":{"row":163,"column":18},"action":"insert","lines":["p"]},{"start":{"row":163,"column":18},"end":{"row":163,"column":19},"action":"insert","lines":["e"]},{"start":{"row":163,"column":19},"end":{"row":163,"column":20},"action":"insert","lines":["s"]}],[{"start":{"row":164,"column":29},"end":{"row":164,"column":38},"action":"remove","lines":["get_tasks"],"id":8505},{"start":{"row":164,"column":29},"end":{"row":164,"column":30},"action":"insert","lines":["h"]},{"start":{"row":164,"column":30},"end":{"row":164,"column":31},"action":"insert","lines":["o"]},{"start":{"row":164,"column":31},"end":{"row":164,"column":32},"action":"insert","lines":["m"]},{"start":{"row":164,"column":32},"end":{"row":164,"column":33},"action":"insert","lines":["t"]}],[{"start":{"row":164,"column":32},"end":{"row":164,"column":33},"action":"remove","lines":["t"],"id":8506}],[{"start":{"row":164,"column":32},"end":{"row":164,"column":33},"action":"insert","lines":["e"],"id":8507}],[{"start":{"row":162,"column":20},"end":{"row":162,"column":24},"action":"remove","lines":["task"],"id":8508},{"start":{"row":162,"column":20},"end":{"row":162,"column":21},"action":"insert","lines":["r"]},{"start":{"row":162,"column":21},"end":{"row":162,"column":22},"action":"insert","lines":["e"]},{"start":{"row":162,"column":22},"end":{"row":162,"column":23},"action":"insert","lines":["c"]}],[{"start":{"row":162,"column":23},"end":{"row":162,"column":24},"action":"insert","lines":["i"],"id":8509},{"start":{"row":162,"column":24},"end":{"row":162,"column":25},"action":"insert","lines":["p"]},{"start":{"row":162,"column":25},"end":{"row":162,"column":26},"action":"insert","lines":["e"]}],[{"start":{"row":161,"column":17},"end":{"row":161,"column":23},"action":"remove","lines":["delete"],"id":8510},{"start":{"row":161,"column":17},"end":{"row":161,"column":18},"action":"insert","lines":["r"]},{"start":{"row":161,"column":18},"end":{"row":161,"column":19},"action":"insert","lines":["e"]},{"start":{"row":161,"column":19},"end":{"row":161,"column":20},"action":"insert","lines":["c"]},{"start":{"row":161,"column":20},"end":{"row":161,"column":21},"action":"insert","lines":["i"]},{"start":{"row":161,"column":21},"end":{"row":161,"column":22},"action":"insert","lines":["p"]},{"start":{"row":161,"column":22},"end":{"row":161,"column":23},"action":"insert","lines":["e"]}],[{"start":{"row":161,"column":22},"end":{"row":161,"column":23},"action":"remove","lines":["e"],"id":8511},{"start":{"row":161,"column":21},"end":{"row":161,"column":22},"action":"remove","lines":["p"]},{"start":{"row":161,"column":20},"end":{"row":161,"column":21},"action":"remove","lines":["i"]},{"start":{"row":161,"column":19},"end":{"row":161,"column":20},"action":"remove","lines":["c"]},{"start":{"row":161,"column":18},"end":{"row":161,"column":19},"action":"remove","lines":["e"]}],[{"start":{"row":161,"column":24},"end":{"row":161,"column":25},"action":"remove","lines":["e"],"id":8512},{"start":{"row":161,"column":23},"end":{"row":161,"column":24},"action":"remove","lines":["p"]},{"start":{"row":161,"column":22},"end":{"row":161,"column":23},"action":"remove","lines":["i"]},{"start":{"row":161,"column":21},"end":{"row":161,"column":22},"action":"remove","lines":["c"]},{"start":{"row":161,"column":20},"end":{"row":161,"column":21},"action":"remove","lines":["e"]},{"start":{"row":161,"column":19},"end":{"row":161,"column":20},"action":"remove","lines":["r"]},{"start":{"row":161,"column":18},"end":{"row":161,"column":19},"action":"remove","lines":["_"]}],[{"start":{"row":161,"column":18},"end":{"row":161,"column":19},"action":"insert","lines":["e"],"id":8513},{"start":{"row":161,"column":19},"end":{"row":161,"column":20},"action":"insert","lines":["c"]}],[{"start":{"row":161,"column":20},"end":{"row":161,"column":21},"action":"insert","lines":["i"],"id":8514},{"start":{"row":161,"column":21},"end":{"row":161,"column":22},"action":"insert","lines":["p"]},{"start":{"row":161,"column":22},"end":{"row":161,"column":23},"action":"insert","lines":["e"]}],[{"start":{"row":161,"column":22},"end":{"row":161,"column":23},"action":"remove","lines":["e"],"id":8515},{"start":{"row":161,"column":21},"end":{"row":161,"column":22},"action":"remove","lines":["p"]},{"start":{"row":161,"column":20},"end":{"row":161,"column":21},"action":"remove","lines":["i"]},{"start":{"row":161,"column":19},"end":{"row":161,"column":20},"action":"remove","lines":["c"]},{"start":{"row":161,"column":18},"end":{"row":161,"column":19},"action":"remove","lines":["e"]}],[{"start":{"row":161,"column":18},"end":{"row":161,"column":19},"action":"insert","lines":["d"],"id":8516}],[{"start":{"row":161,"column":18},"end":{"row":161,"column":19},"action":"remove","lines":["d"],"id":8517},{"start":{"row":161,"column":17},"end":{"row":161,"column":18},"action":"remove","lines":["r"]}],[{"start":{"row":161,"column":17},"end":{"row":161,"column":18},"action":"insert","lines":["d"],"id":8518},{"start":{"row":161,"column":18},"end":{"row":161,"column":19},"action":"insert","lines":["e"]},{"start":{"row":161,"column":19},"end":{"row":161,"column":20},"action":"insert","lines":["l"]},{"start":{"row":161,"column":20},"end":{"row":161,"column":21},"action":"insert","lines":["e"]},{"start":{"row":161,"column":21},"end":{"row":161,"column":22},"action":"insert","lines":["t"]},{"start":{"row":161,"column":22},"end":{"row":161,"column":23},"action":"insert","lines":["e"]}],[{"start":{"row":161,"column":23},"end":{"row":161,"column":24},"action":"insert","lines":["_"],"id":8519},{"start":{"row":161,"column":24},"end":{"row":161,"column":25},"action":"insert","lines":["r"]},{"start":{"row":161,"column":25},"end":{"row":161,"column":26},"action":"insert","lines":["e"]},{"start":{"row":161,"column":26},"end":{"row":161,"column":27},"action":"insert","lines":["c"]},{"start":{"row":161,"column":27},"end":{"row":161,"column":28},"action":"insert","lines":["i"]},{"start":{"row":161,"column":28},"end":{"row":161,"column":29},"action":"insert","lines":["p"]},{"start":{"row":161,"column":29},"end":{"row":161,"column":30},"action":"insert","lines":["e"]}],[{"start":{"row":162,"column":15},"end":{"row":162,"column":19},"action":"remove","lines":["task"],"id":8520},{"start":{"row":162,"column":15},"end":{"row":162,"column":16},"action":"insert","lines":["r"]},{"start":{"row":162,"column":16},"end":{"row":162,"column":17},"action":"insert","lines":["e"]},{"start":{"row":162,"column":17},"end":{"row":162,"column":18},"action":"insert","lines":["c"]},{"start":{"row":162,"column":18},"end":{"row":162,"column":19},"action":"insert","lines":["i"]},{"start":{"row":162,"column":19},"end":{"row":162,"column":20},"action":"insert","lines":["p"]},{"start":{"row":162,"column":20},"end":{"row":162,"column":21},"action":"insert","lines":["e"]}],[{"start":{"row":161,"column":2},"end":{"row":161,"column":3},"action":"remove","lines":[" "],"id":8521},{"start":{"row":161,"column":1},"end":{"row":161,"column":2},"action":"remove","lines":[" "]},{"start":{"row":161,"column":0},"end":{"row":161,"column":1},"action":"remove","lines":[" "]}],[{"start":{"row":161,"column":0},"end":{"row":161,"column":1},"action":"remove","lines":[" "],"id":8522}],[{"start":{"row":162,"column":2},"end":{"row":162,"column":3},"action":"remove","lines":[" "],"id":8523},{"start":{"row":162,"column":1},"end":{"row":162,"column":2},"action":"remove","lines":[" "]},{"start":{"row":162,"column":0},"end":{"row":162,"column":1},"action":"remove","lines":[" "]},{"start":{"row":161,"column":40},"end":{"row":162,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":161,"column":40},"end":{"row":161,"column":41},"action":"remove","lines":[" "],"id":8524},{"start":{"row":161,"column":40},"end":{"row":162,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":84,"column":38},"end":{"row":84,"column":44},"action":"remove","lines":["'GET',"],"id":8525}],[{"start":{"row":65,"column":0},"end":{"row":118,"column":36},"action":"remove","lines":["@app.route('/addrecipe')","def addrecipe():","    #return render_template(\"testform.html\",recipes=mongo.db.recipes.find(),","          # categories=mongo.db.categories.find())","    return render_template(\"addrecipe.html\", recipes=mongo.db.recipes.find(),","           categories=mongo.db.categories.find())",""," #took idea for flash from https://github.com/Deirdre18/dumpdinners-recipe-app/blob/master/app.py"," ","#@app.route('/insert_recipe', methods=['POST'])","#def insert_recipe():","   # recipes=mongo.db.recipes","   # recipes.insert(request.form.to.dict(flat=False))","   # flash (\"Thank you, your recipe has been added!\")","","    #return render_template(\"addrecipe.html\", recipe=recipe)","    #Test1 Failed ","    ","    #Testing2 ","@app.route('/insert_recipe', methods=['POST'])","def insert_recipe():","    recipes=mongo.db.recipes","  ","   # filepath = '../static/img/' + filename","    ","","    recipe_name=request.form[\"recipe_name\"]","    category_age=request.form[\"category_age\"]","    cooking_time=int(request.form[\"cooking_time\"])","    portion_sizes=int(request.form[\"portion_size\"]) ","    allergens=request.form.getlist(\"allergen\")","    ingredients=request.form.getlist(\"ingredient\")","    recipe_description=request.form[\"recipe_description\"]","    steps=request.form.getlist(\"step\")","    #filename = image.save(request.files['image'])","      ","    form={","    ","        \"recipe_name\":recipe_name,","        \"category_age\":category_age,","        \"cooking_time\":cooking_time,","        \"portion_size\":portion_sizes,","        \"allergen\": allergens,","        \"ingredient\": ingredients,","        \"recipe_description\":recipe_description,","        \"step\": steps,","       # \"image\": filepath,","          }","          ","     ","      ","    recipes.insert_one(form)","    flash (\"Thank you, your recipe has been added!\")","    return redirect(url_for('home'))"],"id":8526},{"start":{"row":65,"column":0},"end":{"row":119,"column":0},"action":"insert","lines":["@app.route('/addrecipe')","def addrecipe():","    #return render_template(\"testform.html\",recipes=mongo.db.recipes.find(),","          # categories=mongo.db.categories.find())","    return render_template(\"addrecipe.html\", recipes=mongo.db.recipes.find(),","           categories=mongo.db.categories.find())",""," #took idea for flash from https://github.com/Deirdre18/dumpdinners-recipe-app/blob/master/app.py"," ","#@app.route('/insert_recipe', methods=['POST'])","#def insert_recipe():","   # recipes=mongo.db.recipes","   # recipes.insert(request.form.to.dict(flat=False))","   # flash (\"Thank you, your recipe has been added!\")","","    #return render_template(\"addrecipe.html\", recipe=recipe)","    #Test1 Failed ","    ","    #Testing2 ","@app.route('/insert_recipe', methods=['GET','POST'])","def insert_recipe():","    recipes=mongo.db.recipes","  ","   # filepath = '../static/img/' + filename","    ","","    recipe_name=request.form[\"recipe_name\"]","    category_age=request.form[\"category_age\"]","    cooking_time=int(request.form[\"cooking_time\"])","    portion_sizes=int(request.form[\"portion_size\"]) ","    allergens=request.form.getlist(\"allergen\")","    ingredients=request.form.getlist(\"ingredient\")","    recipe_description=request.form[\"recipe_description\"]","    steps=request.form.getlist(\"step\")","    #filename = image.save(request.files['image'])","      ","    form={","    ","        \"recipe_name\":recipe_name,","        \"category_age\":category_age,","        \"cooking_time\":cooking_time,","        \"portion_size\":portion_sizes,","        \"allergen\": allergens,","        \"ingredient\": ingredients,","        \"recipe_description\":recipe_description,","        \"step\": steps,","       # \"image\": filepath,","          }","          ","     ","      ","    recipes.insert_one(form)","    flash (\"Thank you, your recipe has been added!\")","    return redirect(url_for('home'))",""]}],[{"start":{"row":117,"column":4},"end":{"row":117,"column":5},"action":"insert","lines":["#"],"id":8527}],[{"start":{"row":92,"column":29},"end":{"row":92,"column":30},"action":"insert","lines":["."],"id":8533},{"start":{"row":92,"column":30},"end":{"row":92,"column":31},"action":"insert","lines":["g"]},{"start":{"row":92,"column":31},"end":{"row":92,"column":32},"action":"insert","lines":["e"]},{"start":{"row":92,"column":32},"end":{"row":92,"column":33},"action":"insert","lines":["t"]}],[{"start":{"row":92,"column":33},"end":{"row":92,"column":34},"action":"remove","lines":["["],"id":8534}],[{"start":{"row":92,"column":33},"end":{"row":92,"column":34},"action":"insert","lines":["("],"id":8535}],[{"start":{"row":92,"column":48},"end":{"row":92,"column":49},"action":"remove","lines":["]"],"id":8536}],[{"start":{"row":92,"column":48},"end":{"row":92,"column":49},"action":"insert","lines":[")"],"id":8537}],[{"start":{"row":161,"column":49},"end":{"row":162,"column":0},"action":"insert","lines":["",""],"id":8538},{"start":{"row":162,"column":0},"end":{"row":162,"column":4},"action":"insert","lines":["    "]},{"start":{"row":162,"column":4},"end":{"row":163,"column":0},"action":"insert","lines":["",""]},{"start":{"row":163,"column":0},"end":{"row":163,"column":4},"action":"insert","lines":["    "]},{"start":{"row":163,"column":4},"end":{"row":164,"column":0},"action":"insert","lines":["",""]},{"start":{"row":164,"column":0},"end":{"row":164,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":164,"column":0},"end":{"row":164,"column":1},"action":"insert","lines":["<"],"id":8539}],[{"start":{"row":164,"column":1},"end":{"row":164,"column":2},"action":"insert","lines":["!"],"id":8540},{"start":{"row":164,"column":2},"end":{"row":164,"column":3},"action":"insert","lines":["-"]},{"start":{"row":164,"column":3},"end":{"row":164,"column":4},"action":"insert","lines":["-"]},{"start":{"row":164,"column":4},"end":{"row":164,"column":5},"action":"insert","lines":["-"]},{"start":{"row":164,"column":5},"end":{"row":164,"column":6},"action":"insert","lines":["-"]},{"start":{"row":164,"column":6},"end":{"row":164,"column":7},"action":"insert","lines":["-"]},{"start":{"row":164,"column":7},"end":{"row":164,"column":8},"action":"insert","lines":["-"]}],[{"start":{"row":164,"column":8},"end":{"row":164,"column":9},"action":"insert","lines":["d"],"id":8541},{"start":{"row":164,"column":9},"end":{"row":164,"column":10},"action":"insert","lines":["e"]},{"start":{"row":164,"column":10},"end":{"row":164,"column":11},"action":"insert","lines":["l"]},{"start":{"row":164,"column":11},"end":{"row":164,"column":12},"action":"insert","lines":["e"]},{"start":{"row":164,"column":12},"end":{"row":164,"column":13},"action":"insert","lines":["t"]},{"start":{"row":164,"column":13},"end":{"row":164,"column":14},"action":"insert","lines":["e"]}],[{"start":{"row":164,"column":14},"end":{"row":164,"column":15},"action":"insert","lines":[" "],"id":8542}],[{"start":{"row":164,"column":14},"end":{"row":164,"column":15},"action":"remove","lines":[" "],"id":8543},{"start":{"row":164,"column":13},"end":{"row":164,"column":14},"action":"remove","lines":["e"]},{"start":{"row":164,"column":12},"end":{"row":164,"column":13},"action":"remove","lines":["t"]},{"start":{"row":164,"column":11},"end":{"row":164,"column":12},"action":"remove","lines":["e"]},{"start":{"row":164,"column":10},"end":{"row":164,"column":11},"action":"remove","lines":["l"]},{"start":{"row":164,"column":9},"end":{"row":164,"column":10},"action":"remove","lines":["e"]},{"start":{"row":164,"column":8},"end":{"row":164,"column":9},"action":"remove","lines":["d"]},{"start":{"row":164,"column":7},"end":{"row":164,"column":8},"action":"remove","lines":["-"]},{"start":{"row":164,"column":6},"end":{"row":164,"column":7},"action":"remove","lines":["-"]},{"start":{"row":164,"column":5},"end":{"row":164,"column":6},"action":"remove","lines":["-"]},{"start":{"row":164,"column":4},"end":{"row":164,"column":5},"action":"remove","lines":["-"]},{"start":{"row":164,"column":3},"end":{"row":164,"column":4},"action":"remove","lines":["-"]},{"start":{"row":164,"column":2},"end":{"row":164,"column":3},"action":"remove","lines":["-"]}],[{"start":{"row":164,"column":1},"end":{"row":164,"column":2},"action":"remove","lines":["!"],"id":8544},{"start":{"row":164,"column":0},"end":{"row":164,"column":1},"action":"remove","lines":["<"]}],[{"start":{"row":163,"column":4},"end":{"row":164,"column":4},"action":"remove","lines":["","    "],"id":8545},{"start":{"row":163,"column":0},"end":{"row":163,"column":4},"action":"remove","lines":["    "]},{"start":{"row":162,"column":4},"end":{"row":163,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":150,"column":45},"end":{"row":150,"column":46},"action":"insert","lines":["."],"id":8546},{"start":{"row":150,"column":46},"end":{"row":150,"column":47},"action":"insert","lines":["g"]},{"start":{"row":150,"column":47},"end":{"row":150,"column":48},"action":"insert","lines":["e"]},{"start":{"row":150,"column":48},"end":{"row":150,"column":49},"action":"insert","lines":["t"]}],[{"start":{"row":141,"column":3},"end":{"row":141,"column":4},"action":"remove","lines":["#"],"id":8547}],[{"start":{"row":153,"column":3},"end":{"row":153,"column":4},"action":"remove","lines":["#"],"id":8548},{"start":{"row":153,"column":2},"end":{"row":153,"column":3},"action":"remove","lines":[" "]},{"start":{"row":153,"column":1},"end":{"row":153,"column":2},"action":"remove","lines":[" "]},{"start":{"row":153,"column":0},"end":{"row":153,"column":1},"action":"remove","lines":[" "]},{"start":{"row":152,"column":12},"end":{"row":153,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":152,"column":12},"end":{"row":152,"column":13},"action":"remove","lines":[" "],"id":8549}],[{"start":{"row":152,"column":12},"end":{"row":152,"column":13},"action":"insert","lines":["'"],"id":8550}],[{"start":{"row":152,"column":21},"end":{"row":152,"column":22},"action":"insert","lines":["'"],"id":8551}],[{"start":{"row":152,"column":21},"end":{"row":152,"column":22},"action":"remove","lines":["'"],"id":8552}],[{"start":{"row":152,"column":12},"end":{"row":152,"column":13},"action":"remove","lines":["'"],"id":8553}],[{"start":{"row":152,"column":12},"end":{"row":152,"column":13},"action":"insert","lines":[" "],"id":8554}],[{"start":{"row":141,"column":42},"end":{"row":141,"column":43},"action":"insert","lines":[","],"id":8555}],[{"start":{"row":152,"column":58},"end":{"row":152,"column":59},"action":"insert","lines":[","],"id":8556}],[{"start":{"row":152,"column":54},"end":{"row":152,"column":55},"action":"remove","lines":["e"],"id":8557},{"start":{"row":152,"column":53},"end":{"row":152,"column":54},"action":"remove","lines":["g"]},{"start":{"row":152,"column":52},"end":{"row":152,"column":53},"action":"remove","lines":["a"]}],[{"start":{"row":152,"column":52},"end":{"row":152,"column":53},"action":"insert","lines":["g"],"id":8558}],[{"start":{"row":152,"column":28},"end":{"row":152,"column":29},"action":"remove","lines":["e"],"id":8559},{"start":{"row":152,"column":27},"end":{"row":152,"column":28},"action":"remove","lines":["g"]},{"start":{"row":152,"column":26},"end":{"row":152,"column":27},"action":"remove","lines":["a"]}],[{"start":{"row":152,"column":26},"end":{"row":152,"column":27},"action":"insert","lines":["g"],"id":8560}],[{"start":{"row":152,"column":22},"end":{"row":152,"column":23},"action":"remove","lines":["="],"id":8561},{"start":{"row":152,"column":21},"end":{"row":152,"column":22},"action":"remove","lines":[" "]}],[{"start":{"row":152,"column":21},"end":{"row":152,"column":22},"action":"remove","lines":[" "],"id":8562}],[{"start":{"row":152,"column":21},"end":{"row":152,"column":22},"action":"insert","lines":[";"],"id":8563}],[{"start":{"row":152,"column":21},"end":{"row":152,"column":22},"action":"remove","lines":[";"],"id":8564}],[{"start":{"row":152,"column":21},"end":{"row":152,"column":22},"action":"insert","lines":[":"],"id":8565}],[{"start":{"row":141,"column":42},"end":{"row":141,"column":43},"action":"remove","lines":[","],"id":8566}],[{"start":{"row":141,"column":42},"end":{"row":141,"column":43},"action":"insert","lines":[","],"id":8567}],[{"start":{"row":152,"column":13},"end":{"row":152,"column":14},"action":"insert","lines":["'"],"id":8568}],[{"start":{"row":152,"column":22},"end":{"row":152,"column":23},"action":"insert","lines":["'"],"id":8569}],[{"start":{"row":141,"column":42},"end":{"row":141,"column":43},"action":"remove","lines":[","],"id":8570}],[{"start":{"row":141,"column":42},"end":{"row":141,"column":43},"action":"insert","lines":[","],"id":8571}],[{"start":{"row":141,"column":4},"end":{"row":141,"column":5},"action":"insert","lines":["#"],"id":8572}],[{"start":{"row":152,"column":13},"end":{"row":152,"column":14},"action":"insert","lines":["#"],"id":8573}]]},"ace":{"folds":[],"scrolltop":2142,"scrollleft":0,"selection":{"start":{"row":163,"column":12},"end":{"row":163,"column":12},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":145,"state":"start","mode":"ace/mode/python"}},"timestamp":1566771094921,"hash":"20730cd7f439837164afc7d84fff985b6015ad7b"}